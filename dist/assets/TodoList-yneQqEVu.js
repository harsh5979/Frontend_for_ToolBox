import{u as y,a as w,r as s,j as e,F as _}from"./index-CC5ELKvK.js";import{M as C}from"./index-CBpF0b94.js";import{a as F}from"./index-CDA6xykB.js";const M=({onclose:l,id:r,defaultTitle:i})=>{const{updateTodo:a}=y(),{register:m,handleSubmit:c,watch:b,reset:f,formState:{errors:N}}=w(),x=o=>{o.title.trim()&&(a(o,r),l())},u=s.useRef(),h=o=>{u.current===o.target&&l()};return e.jsx("div",{ref:u,onClick:h,className:"fixed backdrop-blur-sm mt-12 bg-black bg-opacity-25 inset-0  items-center   justify-center flex  ",children:e.jsxs("div",{className:" flex flex-col text-black border rounded-lg  p-2 bg-slate-50",children:[e.jsx("button",{className:"place-self-end mx-3 ",onClick:l,children:e.jsx(F,{size:35,color:"red"})}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-3xl  font-mono  text-center mb-2 mx-3 select-none",children:"Edit Todos"}),e.jsxs("form",{action:"",method:"POST",onSubmit:c(x),children:[e.jsx("input",{type:"text",autoFocus:!0,...m("title"),defaultValue:i,className:"md:w-[400px] w-[90vw] px-4 py-1 mx-4 my-3 rounded  h-[5vh] text-black"}),e.jsx("button",{type:"submit",value:"Submit",className:"bg-purple-500  rounded-md px-7 py-1 md:mx-3 hover:bg-slate-700 hover:text-white font-mono font-semibold md:w-auto w-[75vw] mx-9 my-2",children:"edit"})]})]})]})})};function O(){const[l,r]=s.useState(!1),[i,a]=s.useState(),[m,c]=s.useState(),{register:b,handleSubmit:f,watch:N,reset:x,formState:{errors:u}}=w(),{deleteTodo:h,addTodo:o,todosapi:p,fetchtodos:j,updateTodo:g}=y();s.useState({title:" "});const[v,S]=s.useState(p);s.useEffect(()=>{S(p)},[p]),s.useEffect(()=>{j()},[]);const T=async t=>{t.title.trim()&&(o(t),x())},k=(t,d)=>{h(d),j()},E=(t,d,n)=>{a(d),c(n),r(!0),g(d)};return e.jsxs("div",{className:"bg-white/55  bg-gradient-to-r from-white/50 to-blue-400",children:[e.jsxs("div",{className:"md:container  text-black m-auto  md:w-1/2 md:min-h-[680px]  min-h-[799px]   py-5 rounded ",children:[e.jsxs("div",{className:"todo  ",children:[e.jsx("h1",{className:"text-center text-4xl font-sans my-6 mb-3",children:"TODO_APP"}),e.jsx("h1",{className:"text-xl mt-6 font-semibold  mb-2 mx-3 select-none",children:e.jsx("li",{children:" Add Todos"})}),e.jsxs("form",{action:"",method:"POST",onSubmit:f(T),children:[e.jsx("input",{autoFocus:!0,type:"text",...b("title"),className:"outline-dotted md:w-[590px] w-[90vw] px-4 py-1 mx-4 my-3 rounded  h-[6vh] text-2xl"}),e.jsx("button",{type:"submit",value:"Submit",className:"outline-dashed bg-purple-500  rounded-md px-7 py-1 md:mx-3 hover:bg-slate-700 hover:text-white font-mono font-semibold md:w-auto w-[75vw] mx-12 my-2",children:"Save"})]})]}),e.jsxs("div",{className:"todolists mt-12",children:[e.jsx("h2",{className:"text-xl font-semibold mx-4  select-none",children:"Todos : "}),v.length===0&&e.jsx("div",{className:"mx-8 my-4 p-3",children:"no todos to hare"}),v.map((t,d)=>e.jsxs("div",{className:"todo text-center border border-x-purple-100 outline-double p-2 mx-5 my-5 rounded-lg justify-between flex ",children:[e.jsxs("div",{className:"text-2xl w-[450px]  line-clamp-3",children:[" ",e.jsx("p",{className:"break-words ",children:t.title})]}),e.jsxs("div",{className:"button md:gap-2 gap-5",children:[e.jsx("button",{onClick:n=>E(n,t._id,t.title),className:"md:my-2 my-1 edit bg-purple-500 rounded-md px-5 py-1 mx-2 hover:bg-slate-700 hover:text-white font-mono font-semibold",children:e.jsx(_,{})}),e.jsx("button",{onClick:n=>k(n,t._id),className:"md:my-2 delete bg-purple-500 rounded-md px-5 py-1 mx-2 hover:bg-slate-700 hover:text-white font-mono font-semibold",children:e.jsx(C,{})})]})]},d))]})]}),l&&e.jsx(M,{onclose:()=>r(!1),id:i,defaultTitle:m})]})}const R=()=>e.jsx("div",{children:e.jsx("div",{className:" select-none",children:e.jsx(O,{})})});export{R as default};
